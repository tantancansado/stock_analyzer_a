<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Super Dashboard Ultimate - VCP + ML + Fundamentals</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 3.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.3em;
            opacity: 0.9;
        }

        .quick-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            text-transform: uppercase;
            font-size: 0.9em;
            letter-spacing: 1px;
        }

        .insights-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .insight-item {
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 5px solid;
        }

        .insight-CRITICAL {
            background: #fef3c7;
            border-color: #f59e0b;
        }

        .insight-HIGH {
            background: #dbeafe;
            border-color: #3b82f6;
        }

        .insight-INFO {
            background: #d1fae5;
            border-color: #10b981;
        }

        .insight-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .insight-desc {
            color: #666;
            margin-bottom: 10px;
        }

        .ticker-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 10px;
        }

        .ticker-badge {
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 5px;
            font-weight: bold;
            font-size: 0.9em;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(800px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .section-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .section-title {
            font-size: 1.8em;
            margin-bottom: 20px;
            color: #333;
        }

        .opportunities-table {
            width: 100%;
            border-collapse: collapse;
        }

        .opportunities-table th {
            background: #667eea;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .opportunities-table td {
            padding: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        .opportunities-table tr:hover {
            background: #f9fafb;
        }

        .score-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            color: white;
        }

        .score-high {
            background: #10b981;
        }

        .score-medium {
            background: #3b82f6;
        }

        .timing-badge {
            background: #f59e0b;
            color: white;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .alert-list {
            list-style: none;
        }

        .alert-list li {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            background: #f9fafb;
            border-left: 4px solid #667eea;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 50px;
            opacity: 0.8;
        }

        /* === RESPONSIVE DESIGN - MOBILE OPTIMIZED === */

        /* Tablets */
        @media (max-width: 1024px) {
            .container {
                padding: 1.5rem;
            }

            .opportunities-table {
                font-size: 0.9rem;
            }
        }

        /* Mobile Large */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header {
                padding: 2rem 1rem;
            }

            .header h1 {
                font-size: 2rem;
            }

            .header a {
                font-size: 1rem !important;
                padding: 6px 12px !important;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr) !important;
                gap: 1rem;
            }

            .stat-card {
                padding: 1.5rem;
            }

            .opportunities-table-container {
                overflow-x: auto;
                -webkit-overflow-scrolling: touch;
            }

            .opportunities-table {
                font-size: 0.85rem;
                min-width: 600px;
            }

            .opportunities-table th,
            .opportunities-table td {
                padding: 0.6rem 0.5rem;
            }
        }

        /* Mobile Small */
        @media (max-width: 480px) {
            .container {
                padding: 0.75rem;
                margin: 0.5rem;
            }

            .header {
                padding: 1.5rem 0.75rem;
                position: relative;
            }

            .header h1 {
                font-size: 1.75rem;
                margin-top: 2.5rem;
            }

            .header a {
                position: absolute !important;
                left: 0.75rem !important;
                top: 0.75rem !important;
                font-size: 0.9rem !important;
                padding: 6px 10px !important;
            }

            .stats-grid {
                grid-template-columns: 1fr !important;
                gap: 0.75rem;
            }

            .stat-card {
                padding: 1.25rem;
            }

            .stat-value {
                font-size: 1.75rem;
            }

            .opportunities-table {
                font-size: 0.8rem;
                min-width: 500px;
            }

            .opportunities-table th,
            .opportunities-table td {
                padding: 0.5rem 0.4rem;
            }

            button, a {
                min-height: 44px;
            }
        }

        /* Ultra Small */
        @media (max-width: 360px) {
            .header h1 {
                font-size: 1.5rem;
            }

            .stat-value {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" style="position: absolute; left: 20px; top: 20px; color: white; text-decoration: none; font-size: 1.2em; background: rgba(255,255,255,0.2); padding: 8px 16px; border-radius: 8px; transition: background 0.3s;" onmouseover="this.style.background='rgba(255,255,255,0.3)'" onmouseout="this.style.background='rgba(255,255,255,0.2)'">
                üè† Volver
            </a>
            <h1>üéØ Super Dashboard Ultimate</h1>
            <p style="font-size: 0.9em; color: #cbd5e0; margin-top: 5px;">VCP Pattern + ML Predictions + Fundamental Analysis</p>
            <div class="subtitle">Sistema 5D Integrado - An√°lisis Completo del Mercado</div>
            <div style="margin-top: 10px; font-size: 0.9em;">
                2026-02-18 19:07:57
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="quick-stats">
            <div class="stat-card" style="background: linear-gradient(135deg, #fef3c7, #fbbf24);">
                <div class="stat-value" style="color: #92400e;">139</div>
                <div class="stat-label" style="color: #92400e;">üéØ VCP Patterns</div>
                <div style="font-size: 0.8em; color: #92400e; margin-top: 5px;">2026-02-12</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">134</div>
                <div class="stat-label">Total 5D Opps</div>
                <div style="font-size: 0.8em; color: #666; margin-top: 5px;">‚≠ê BUENA+: 33</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">4</div>
                <div class="stat-label">Sector Alerts</div>
            </div>
            <div class="stat-card" style="background: linear-gradient(135deg, #d1fae5, #10b981);">
                <div class="stat-value" style="color: #065f46;">64%</div>
                <div class="stat-label" style="color: #065f46;">Win Rate</div>
                <div style="font-size: 0.8em; color: #065f46; margin-top: 5px;">Avg: 5.5%</div>
            </div>
        </div>

        <!-- AI Insights -->
        

        <!-- Main Content Grid -->
        <div class="grid-2">
            <!-- Top Opportunities -->
            <div class="section-card">
                <h2 class="section-title">üèÜ Top 5D Opportunities</h2>
                
        <div style="background: var(--glass-bg); border: 1px solid var(--glass-border); border-radius: 12px; padding: 1rem; margin-bottom: 1.5rem; backdrop-filter: blur(10px);">
            <h4 style="color: var(--glass-primary); margin-bottom: 0.75rem;">üìñ Gu√≠a de Columnas</h4>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 0.5rem; font-size: 0.85em;">
                <div><strong>Score:</strong> Puntuaci√≥n final con filtros aplicados</div>
                <div><strong>Tier:</strong> Clasificaci√≥n por calidad (‚≠ê‚≠ê‚≠ê‚≠ê ELITE = top)</div>
                <div><strong>VCP:</strong> Setup t√©cnico (patr√≥n volatilidad)</div>
                <div><strong>ML:</strong> Predicci√≥n momentum/tendencia</div>
                <div><strong>Fund:</strong> An√°lisis fundamental (earnings, growth, salud)</div>
                <div style="background: var(--glass-primary-dim); padding: 0.25rem 0.5rem; border-radius: 4px;"><strong>Entry:</strong> Precio √≥ptimo de entrada (VCP pivot + soporte)</div>
                <div style="background: var(--glass-primary-dim); padding: 0.25rem 0.5rem; border-radius: 4px;"><strong>Stop:</strong> Stop loss t√©cnico (m√°x 8%)</div>
                <div style="background: var(--glass-primary-dim); padding: 0.25rem 0.5rem; border-radius: 4px;"><strong>Target:</strong> Precio objetivo (fair value + resistencia)</div>
                <div style="background: var(--glass-primary-dim); padding: 0.25rem 0.5rem; border-radius: 4px;"><strong>R/R:</strong> Ratio Risk/Reward (m√≠n 3:1 recomendado)</div>
                <div><strong>MA:</strong> Minervini Trend Template - ‚úÖ Pass | ‚ùå Fail</div>
                <div><strong>A/D:</strong> Acumulaci√≥n/Distribuci√≥n - üü¢ Strong Acc | üü° Acc | ‚ö™ Neutral | üü† Dist | üî¥ Strong Dist</div>
                <div><strong>Filt:</strong> Filtros pasados (Market + MA + A/D) - X/3</div>
                <div><strong>Ins:</strong> Actividad insider trading</div>
                <div><strong>Val:</strong> Validaci√≥n web - ‚úÖ BUY (good entry) | ‚ö†Ô∏è HOLD (wait) | ‚ùå AVOID (near ATH)</div>
                <div><strong>Timing:</strong> üî• Convergencia temporal | üîÅ VCP recurrente</div>
            </div>
        </div>
        
        <div class="opportunities-table-container" style="overflow-x: auto; -webkit-overflow-scrolling: touch;">
            <table class="opportunities-table" style="min-width: 1100px;">
                <thead>
                    <tr>
                        <th>Ticker / Company</th>
                        <th title="Super Score Ultimate with Filters Applied">Score</th>
                        <th title="Quality Tier">Tier</th>
                        <th>Sector</th>
                        <th title="VCP Pattern Score (40%)">VCP</th>
                        <th title="ML Predictive Score (30%)">ML</th>
                        <th title="Fundamental Score (30%)">Fund</th>
                        <th title="Optimal entry price (VCP pivot + support)" style="background: #8b9cf4;">Entry</th>
                        <th title="Stop loss (technical support, max 8%)" style="background: #8b9cf4;">Stop</th>
                        <th title="Target exit price (fair value + resistance)" style="background: #8b9cf4;">Target</th>
                        <th title="Risk/Reward ratio (min 3:1)" style="background: #8b9cf4;">R/R</th>
                        <th title="Moving Average Filter (Minervini)">MA</th>
                        <th title="Accumulation/Distribution">A/D</th>
                        <th title="Filters Passed (Market + MA + A/D)">Filt</th>
                        <th title="Insider Trading Activity">Ins</th>
                        <th title="Web Validation: ‚úÖ BUY | ‚ö†Ô∏è HOLD | ‚ùå AVOID">Val</th>
                        <th title="üî• Timing Convergence | üîÅ VCP Repeater">Timing</th>
                    </tr>
                </thead>
                <tbody>
                    
            <tr>
                <td><div><strong>REGN</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Regeneron Pharmaceuticals...</span></div></td>
                <td><span class="score-badge score-high">73.2</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Healthcare</td>
                <td><span class="component-score" title="VCP Pattern (40%)">89</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">75</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$801.47</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$737.35</span></td>
                <td><span class="price-cell" style="color: var(--success);">$964.37</span></td>
                <td><span class="poor-rr">2.5:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="ACCUMULATION">üü°</span></td>
                <td><span title="Penalty: -0 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-3.5% from high) - poor entry point | -3.5% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>TXT</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Textron Inc.</span></div></td>
                <td><span class="score-badge score-high">71.8</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Industrials</td>
                <td><span class="component-score" title="VCP Pattern (40%)">90</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">70</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$100.70</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$92.64</span></td>
                <td><span class="price-cell" style="color: var(--success);">$120.18</span></td>
                <td><span class="poor-rr">2.4:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="STRONG_ACCUMULATION">üü¢</span></td>
                <td><span title="Penalty: -0 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-1.3% from high) - poor entry point | -1.3% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>DOV</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Dover Corporation</span></div></td>
                <td><span class="score-badge score-high">70.9</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Industrials</td>
                <td><span class="component-score" title="VCP Pattern (40%)">90</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">66</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$235.58</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$216.74</span></td>
                <td><span class="price-cell" style="color: var(--success);">$281.79</span></td>
                <td><span class="poor-rr">2.5:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="ACCUMULATION">üü°</span></td>
                <td><span title="Penalty: -0 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-1.4% from high) - poor entry point | -1.4% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>FANG</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Diamondback Energy, Inc.</span></div></td>
                <td><span class="score-badge score-high">70.7</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Energy</td>
                <td><span class="component-score" title="VCP Pattern (40%)">90</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">66</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$170.28</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$156.65</span></td>
                <td><span class="price-cell" style="color: var(--success);">$204.16</span></td>
                <td><span class="poor-rr">2.5:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="ACCUMULATION">üü°</span></td>
                <td><span title="Penalty: -0 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-0.3% from high) - poor entry point | -0.3% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>PKG</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Packaging Corporation of ...</span></div></td>
                <td><span class="score-badge score-high">70.1</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Consumer Cyclical</td>
                <td><span class="component-score" title="VCP Pattern (40%)">90</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">63</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$242.77</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$223.35</span></td>
                <td><span class="price-cell" style="color: var(--success);">$292.47</span></td>
                <td><span class="poor-rr">2.6:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="ACCUMULATION">üü°</span></td>
                <td><span title="Penalty: -0 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-4.9% from high) - poor entry point | -4.9% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>CIEN</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Ciena Corporation</span></div></td>
                <td><span class="score-badge score-medium">69.2</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Technology</td>
                <td><span class="component-score" title="VCP Pattern (40%)">84</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">68</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$305.35</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$280.93</span></td>
                <td><span class="price-cell" style="color: var(--success);">$365.65</span></td>
                <td><span class="poor-rr">2.5:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="STRONG_ACCUMULATION">üü¢</span></td>
                <td><span title="Penalty: -0 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-1.3% from high) - poor entry point | High P/E (368.4) - valuation risk | Price above target (-24.3% upside) - limited room | -1.3% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>EIX</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Edison International</span></div></td>
                <td><span class="score-badge score-medium">69.1</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Utilities</td>
                <td><span class="component-score" title="VCP Pattern (40%)">90</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">70</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$72.13</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$66.36</span></td>
                <td><span class="price-cell" style="color: var(--success);">$86.26</span></td>
                <td><span class="poor-rr">2.5:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="STRONG_ACCUMULATION">üü¢</span></td>
                <td><span title="Penalty: -3 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-2.5% from high) - poor entry point | -2.5% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>GILD</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Gilead Sciences, Inc.</span></div></td>
                <td><span class="score-badge score-medium">68.9</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Healthcare</td>
                <td><span class="component-score" title="VCP Pattern (40%)">89</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">71</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$156.82</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$144.28</span></td>
                <td><span class="price-cell" style="color: var(--success);">$187.21</span></td>
                <td><span class="poor-rr">2.4:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="STRONG_ACCUMULATION">üü¢</span></td>
                <td><span title="Penalty: -3 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-2.5% from high) - poor entry point | -2.5% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>SWK</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Stanley Black & Decker, I...</span></div></td>
                <td><span class="score-badge score-medium">68.6</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Industrials</td>
                <td><span class="component-score" title="VCP Pattern (40%)">90</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">59</span></td>
                <td><span class="price-cell" title="BUY NOW - At target entry price">$91.81</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$84.46</span></td>
                <td><span class="price-cell" style="color: var(--success);">$110.17</span></td>
                <td><span class="poor-rr">2.5:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="ACCUMULATION">üü°</span></td>
                <td><span title="Penalty: -0 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-2.2% from high) - poor entry point | -2.2% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
            <tr>
                <td><div><strong>XOM</strong><br><span style="font-size: 0.75em; color: var(--text-muted);">Exxon Mobil Corporation</span></div></td>
                <td><span class="score-badge score-medium">68.5</span></td>
                <td>‚≠ê‚≠ê‚≠ê EXCELLENT</td>
                <td>Energy</td>
                <td><span class="component-score" title="VCP Pattern (40%)">91</span></td>
                <td><span class="component-score" title="ML Predictive (30%)">50</span></td>
                <td><span class="component-score" title="Fundamentals (30%)">67</span></td>
                <td><span class="price-cell" title="BUY ON PULLBACK - Wait for 2-5% dip">$143.27</span></td>
                <td><span class="price-cell" style="color: var(--danger);">$131.80</span></td>
                <td><span class="price-cell" style="color: var(--success);">$180.15</span></td>
                <td><span class="good-rr">3.2:1</span></td>
                <td><span title="Passes Minervini Template (6/6 criteria)">‚úÖ</span></td>
                <td><span title="STRONG_ACCUMULATION">üü¢</span></td>
                <td><span title="Penalty: -3 points">3/3</span></td>
                <td>0</td>
                <td><span title="Near ATH (-4.3% from high) - poor entry point | -4.3% vs ATH">‚ùå</span></td>
                <td>üî• üîÅ</td>
            </tr>
            
                </tbody>
            </table>
        </div>
        
            </div>

            <!-- Sector Alerts -->
            <div class="section-card">
                <h2 class="section-title">üîÑ Sector Rotation Alerts</h2>
                <ul class="alert-list">
            <li>
                <strong>‚ö° ‚ö° Financials emergiendo (RS: 100)</strong><br>
                <span style="color: #666; font-size: 0.9em;">‚Üí EARLY ENTRY OPPORTUNITY - sector saliendo de debilidad</span>
            </li>
            
            <li>
                <strong>‚ö° ‚ö° Healthcare emergiendo (RS: 100)</strong><br>
                <span style="color: #666; font-size: 0.9em;">‚Üí EARLY ENTRY OPPORTUNITY - sector saliendo de debilidad</span>
            </li>
            
            <li>
                <strong>üî¥ üî¥ Energy perdiendo momentum (velocity: -12.43)</strong><br>
                <span style="color: #666; font-size: 0.9em;">‚Üí CONSIDERAR SALIDA de posiciones en este sector</span>
            </li>
            
            <li>
                <strong>‚ö° ‚ö° Real Estate emergiendo (RS: 100)</strong><br>
                <span style="color: #666; font-size: 0.9em;">‚Üí EARLY ENTRY OPPORTUNITY - sector saliendo de debilidad</span>
            </li>
            </ul>
            </div>
        </div>

        <!-- Buscar Ticker -->
        <div class="section-card" id="buscar-ticker-section">
            <h2 class="section-title">üîç Analizar Ticker</h2>
            <p style="color: #666; margin-bottom: 20px; font-size: 0.95em;">
                Introduce cualquier ticker para obtener su puntuaci√≥n y tesis de inversi√≥n completa
                (VCP + ML + Fundamentales + filtros Minervini).
                En local requiere ejecutar <code style="background:#f1f5f9; padding:2px 6px; border-radius:4px;">python3 ticker_api.py</code> en una terminal.
            </p>

            <!-- Formulario de b√∫squeda -->
            <div style="display: flex; gap: 12px; flex-wrap: wrap; align-items: center; margin-bottom: 20px;">
                <input
                    id="tickerInput"
                    type="text"
                    placeholder="AAPL, NVDA, MSFT‚Ä¶"
                    maxlength="10"
                    style="flex: 1; min-width: 180px; max-width: 280px; padding: 12px 16px; font-size: 1.1em; font-weight: bold; border: 2px solid #667eea; border-radius: 10px; outline: none; text-transform: uppercase; letter-spacing: 1px;"
                    onkeydown="if(event.key==='Enter') analyzeTickerBtn();"
                />
                <button
                    onclick="analyzeTickerBtn()"
                    id="analyzeBtn"
                    style="padding: 12px 28px; background: #667eea; color: white; border: none; border-radius: 10px; font-size: 1em; font-weight: bold; cursor: pointer; transition: background 0.2s;"
                    onmouseover="this.style.background='#5a67d8'"
                    onmouseout="this.style.background='#667eea'"
                >
                    üîç Analizar
                </button>
                <button
                    onclick="document.getElementById('tickerResult').style.display='none'; document.getElementById('tickerInput').value='';"
                    style="padding: 12px 16px; background: #e2e8f0; color: #4a5568; border: none; border-radius: 10px; font-size: 0.9em; cursor: pointer;"
                >
                    ‚úï Limpiar
                </button>
            </div>

            <!-- Estado / loading -->
            <div id="tickerStatus" style="display:none; color:#667eea; font-style:italic; margin-bottom:10px;">
                ‚è≥ Analizando‚Ä¶ (30-60 segundos)
            </div>
            <div id="tickerError" style="display:none; color:#e53e3e; background:#fff5f5; border:1px solid #feb2b2; border-radius:8px; padding:12px; margin-bottom:10px;"></div>

            <!-- Resultado -->
            <div id="tickerResult" style="display:none;"></div>
        </div>

        <script>
        // ‚îÄ‚îÄ Configuraci√≥n de API ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
        // Si tienes la API desplegada en Railway/Render, pon la URL aqu√≠:
        const DEPLOYED_API_URL = 'https://web-production-26e95.up.railway.app';
        const LOCAL_API_URL    = 'http://localhost:5002';

        function getApiBase() {
            const isLocal = window.location.hostname === 'localhost' ||
                            window.location.hostname === '127.0.0.1' ||
                            window.location.protocol === 'file:';
            if (isLocal) return LOCAL_API_URL;
            if (DEPLOYED_API_URL) return DEPLOYED_API_URL;
            return LOCAL_API_URL;  // fallback: localhost funciona en browsers modernos
        }

        async function analyzeTickerBtn() {
            const input = document.getElementById('tickerInput');
            const ticker = input.value.trim().toUpperCase();
            const statusEl = document.getElementById('tickerStatus');
            const errorEl  = document.getElementById('tickerError');
            const resultEl = document.getElementById('tickerResult');
            const btn      = document.getElementById('analyzeBtn');

            if (!ticker || !/^[A-Z0-9.\-]{1,10}$/.test(ticker)) {
                errorEl.textContent = '‚ö†Ô∏è Introduce un ticker v√°lido (ej: AAPL, NVDA, BRK.B)';
                errorEl.style.display = 'block';
                resultEl.style.display = 'none';
                return;
            }

            const apiBase = getApiBase();

            // Estado loading
            btn.disabled = true;
            btn.textContent = '‚è≥ Analizando‚Ä¶';
            statusEl.style.display = 'block';
            errorEl.style.display  = 'none';
            resultEl.style.display = 'none';

            try {
                const res = await fetch(`${apiBase}/api/analyze/${ticker}`);
                if (!res.ok) {
                    const err = await res.json().catch(() => ({}));
                    throw new Error(err.error || `HTTP ${res.status}`);
                }
                const d = await res.json();
                resultEl.innerHTML = buildResultHTML(d);
                resultEl.style.display = 'block';
            } catch(e) {
                let msg = e.message;
                if (msg.includes('Failed to fetch') || msg.includes('NetworkError') || msg.includes('ERR_CONNECTION_REFUSED')) {
                    const isRemote = !apiBase.includes('localhost');
                    msg = isRemote
                        ? '‚ùå No se puede conectar a la API desplegada.<br>Verifica que el servidor est√© activo o ejecuta <code>python3 ticker_api.py</code> en local.'
                        : '‚ùå No se puede conectar al servidor local.<br>Ejecuta: <code>python3 ticker_api.py</code>';
                } else {
                    msg = `‚ùå Error: ${msg}`;
                }
                errorEl.innerHTML = msg;
                errorEl.style.display = 'block';
            } finally {
                btn.disabled = false;
                btn.textContent = 'üîç Analizar';
                statusEl.style.display = 'none';
            }
        }

        function pct(v) {
            if (v == null) return 'N/A';
            const n = parseFloat(v);
            return isNaN(n) ? 'N/A' : (n >= 0 ? '+' : '') + n.toFixed(1) + '%';
        }
        function fmt(v, dec=1) {
            if (v == null) return 'N/A';
            const n = parseFloat(v);
            return isNaN(n) ? 'N/A' : n.toFixed(dec);
        }
        function price(v) {
            if (v == null) return 'N/A';
            const n = parseFloat(v);
            return isNaN(n) ? 'N/A' : '$' + n.toFixed(2);
        }
        function scoreColor(s) {
            if (s >= 75) return '#10b981';
            if (s >= 60) return '#f59e0b';
            if (s >= 40) return '#667eea';
            return '#e53e3e';
        }
        function adIcon(sig) {
            const m = {
                'STRONG_ACCUMULATION': 'üü¢',
                'ACCUMULATION': '‚úÖ',
                'NEUTRAL': '‚ö™',
                'DISTRIBUTION': 'üî¥',
                'STRONG_DISTRIBUTION': 'üî¥üî¥',
            };
            return m[sig] || '‚ö™';
        }
        function momIcon(m) {
            return m === 'improving' ? 'üìà' : m === 'leading' ? 'üöÄ' : m === 'declining' ? 'üìâ' : '‚û°Ô∏è';
        }

        function buildResultHTML(d) {
            const scoreC = scoreColor(d.final_score);
            const thesisLines = (d.thesis || '').split('\n').map(l =>
                `<div style="margin:2px 0;">${l}</div>`
            ).join('');

            return `
            <div style="border-top:3px solid ${scoreC}; padding-top:20px; margin-top:10px;">

                <!-- Header: nombre + score -->
                <div style="display:flex; flex-wrap:wrap; gap:20px; align-items:flex-start; margin-bottom:20px;">
                    <div style="flex:1; min-width:200px;">
                        <div style="font-size:1.6em; font-weight:800; color:#2d3748;">${d.ticker}</div>
                        <div style="color:#718096; font-size:0.9em; margin-top:2px;">${d.company_name}</div>
                        <div style="margin-top:8px; font-size:0.95em; color:#4a5568;">
                            Precio: <strong>${price(d.current_price)}</strong>
                            ${d.price_target ? '&nbsp;‚Üí Objetivo: <strong>' + price(d.price_target) + '</strong> (<span style="color:' + (d.upside_percent >= 0 ? '#10b981' : '#e53e3e') + '">' + pct(d.upside_percent) + '</span>)' : ''}
                        </div>
                    </div>
                    <div style="text-align:center; background:${scoreC}; color:white; border-radius:16px; padding:16px 28px; min-width:140px;">
                        <div style="font-size:2.2em; font-weight:900; line-height:1;">${d.final_score}</div>
                        <div style="font-size:0.75em; opacity:0.9; margin-top:4px;">/ 100</div>
                        <div style="font-size:1em; margin-top:6px;">${d.tier_emoji} ${d.tier_label}</div>
                    </div>
                </div>

                <!-- Desglose -->
                <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(160px,1fr)); gap:12px; margin-bottom:20px;">
                    <div style="background:#fef3c7; border-radius:10px; padding:14px; text-align:center;">
                        <div style="font-size:1.5em; font-weight:800; color:#92400e;">${fmt(d.vcp_score)}</div>
                        <div style="font-size:0.8em; color:#92400e;">üìä VCP (40%)</div>
                        <div style="font-size:0.75em; color:#b45309; margin-top:4px;">contribuye ${fmt(d.vcp_contribution)} pts</div>
                    </div>
                    <div style="background:#ede9fe; border-radius:10px; padding:14px; text-align:center;">
                        <div style="font-size:1.5em; font-weight:800; color:#5b21b6;">${fmt(d.ml_score)}</div>
                        <div style="font-size:0.8em; color:#5b21b6;">ü§ñ ML (30%)</div>
                        <div style="font-size:0.75em; color:#7c3aed; margin-top:4px;">contribuye ${fmt(d.ml_contribution)} pts</div>
                    </div>
                    <div style="background:#d1fae5; border-radius:10px; padding:14px; text-align:center;">
                        <div style="font-size:1.5em; font-weight:800; color:#065f46;">${fmt(d.fund_score)}</div>
                        <div style="font-size:0.8em; color:#065f46;">üìà Fund. (30%)</div>
                        <div style="font-size:0.75em; color:#047857; margin-top:4px;">contribuye ${fmt(d.fund_contribution)} pts</div>
                    </div>
                    ${d.penalty > 0 ? `<div style="background:#fee2e2; border-radius:10px; padding:14px; text-align:center;">
                        <div style="font-size:1.5em; font-weight:800; color:#991b1b;">-${d.penalty}</div>
                        <div style="font-size:0.8em; color:#991b1b;">‚ö†Ô∏è Penalizaci√≥n</div>
                        <div style="font-size:0.75em; color:#b91c1c; margin-top:4px;">filtros t√©cnicos</div>
                    </div>` : ''}
                </div>

                <!-- Filtros + detalles en grid -->
                <div style="display:grid; grid-template-columns:repeat(auto-fit, minmax(250px,1fr)); gap:16px; margin-bottom:20px;">

                    <!-- Filtros t√©cnicos -->
                    <div style="background:#f7fafc; border-radius:10px; padding:16px;">
                        <div style="font-weight:700; color:#2d3748; margin-bottom:10px;">üõ°Ô∏è Filtros T√©cnicos</div>
                        <table style="width:100%; font-size:0.88em; border-collapse:collapse;">
                            <tr><td style="padding:4px 0; color:#718096;">Minervini Template</td>
                                <td style="text-align:right;">${d.ma_passes ? '‚úÖ PASA' : '‚ùå NO PASA'} (${d.ma_checks})</td></tr>
                            <tr><td style="padding:4px 0; color:#718096;">Acum./Distribuci√≥n</td>
                                <td style="text-align:right;">${adIcon(d.ad_signal)} ${d.ad_signal}</td></tr>
                            <tr><td style="padding:4px 0; color:#718096;">Sector</td>
                                <td style="text-align:right;">${d.sector_name} (${fmt(d.sector_score, 0)})</td></tr>
                            <tr><td style="padding:4px 0; color:#718096;">Sector momentum</td>
                                <td style="text-align:right;">${momIcon(d.sector_momentum)} ${d.sector_momentum}</td></tr>
                        </table>
                    </div>

                    <!-- VCP -->
                    <div style="background:#f7fafc; border-radius:10px; padding:16px;">
                        <div style="font-weight:700; color:#2d3748; margin-bottom:10px;">üìä VCP / T√©cnico</div>
                        <table style="width:100%; font-size:0.88em; border-collapse:collapse;">
                            <tr><td style="padding:4px 0; color:#718096;">Estado</td>
                                <td style="text-align:right;">${d.vcp_ready ? '‚úÖ Listo para compra' : '‚è≥ En formaci√≥n'}</td></tr>
                            <tr><td style="padding:4px 0; color:#718096;">Contracciones</td>
                                <td style="text-align:right;">${d.vcp_contractions}</td></tr>
                            ${d.vcp_breakout_potential != null ? `<tr><td style="padding:4px 0; color:#718096;">Potencial BK</td><td style="text-align:right;">${fmt(d.vcp_breakout_potential)}%</td></tr>` : ''}
                            ${d.vcp_stage ? `<tr><td style="padding:4px 0; color:#718096;">Stage</td><td style="text-align:right;">${d.vcp_stage}</td></tr>` : ''}
                            ${d.ml_quality ? `<tr><td style="padding:4px 0; color:#718096;">ML Quality</td><td style="text-align:right;">${d.ml_quality}</td></tr>` : ''}
                            ${d.entry_score != null ? `<tr><td style="padding:4px 0; color:#718096;">Entry score</td><td style="text-align:right;">${fmt(d.entry_score)}/100</td></tr>` : ''}
                        </table>
                    </div>

                    <!-- Fundamentales -->
                    <div style="background:#f7fafc; border-radius:10px; padding:16px;">
                        <div style="font-weight:700; color:#2d3748; margin-bottom:10px;">üìà Fundamentales</div>
                        <table style="width:100%; font-size:0.88em; border-collapse:collapse;">
                            ${d.forward_pe != null ? `<tr><td style="padding:4px 0; color:#718096;">Forward P/E</td><td style="text-align:right;">${fmt(d.forward_pe)}x</td></tr>` : ''}
                            ${d.peg_ratio != null ? `<tr><td style="padding:4px 0; color:#718096;">PEG Ratio</td><td style="text-align:right;">${fmt(d.peg_ratio, 2)}</td></tr>` : ''}
                            ${d.roe != null ? `<tr><td style="padding:4px 0; color:#718096;">ROE</td><td style="text-align:right;">${pct(d.roe * 100)}</td></tr>` : ''}
                            ${d.revenue_growth != null ? `<tr><td style="padding:4px 0; color:#718096;">Revenue Growth</td><td style="text-align:right;">${pct(d.revenue_growth * 100)}</td></tr>` : ''}
                            ${d.fcf_yield != null ? `<tr><td style="padding:4px 0; color:#718096;">FCF Yield</td><td style="text-align:right;">${fmt(d.fcf_yield)}%</td></tr>` : ''}
                            ${d.debt_to_equity != null ? `<tr><td style="padding:4px 0; color:#718096;">Deuda/Capital</td><td style="text-align:right;">${fmt(d.debt_to_equity, 2)}</td></tr>` : ''}
                        </table>
                    </div>
                </div>

                <!-- Tesis -->
                <div style="background:#f0f4ff; border-left:4px solid #667eea; border-radius:0 10px 10px 0; padding:16px; margin-bottom:12px;">
                    <div style="font-weight:700; color:#434190; margin-bottom:8px;">üí° Tesis de Inversi√≥n</div>
                    <div style="font-size:0.9em; color:#4a5568; line-height:1.6;">${thesisLines}</div>
                </div>

                <div style="font-size:0.78em; color:#a0aec0; text-align:right;">
                    An√°lisis generado: ${d.analysis_time} ¬∑ Tiempo: ${d.elapsed_seconds}s ¬∑
                    ‚ö†Ô∏è Solo fines educativos, no es consejo financiero.
                </div>
            </div>`;
        }
        </script>

        <!-- Quick Links -->
        <div class="section-card">
            <h2 class="section-title">üîó Dashboards Especializados</h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px; margin-top: 20px;">
                <a href="sector_rotation_dashboard.html" style="display: block; padding: 20px; background: #667eea; color: white; text-decoration: none; border-radius: 10px; text-align: center; font-weight: bold;">
                    üîÑ Sector Rotation
                </a>
                <a href="backtest_dashboard.html" style="display: block; padding: 20px; background: #10b981; color: white; text-decoration: none; border-radius: 10px; text-align: center; font-weight: bold;">
                    üìä Backtest Performance
                </a>
                <a href="super_opportunities_4d.html" style="display: block; padding: 20px; background: #f59e0b; color: white; text-decoration: none; border-radius: 10px; text-align: center; font-weight: bold;">
                    ‚≠ê 5D Complete Analysis
                </a>
            </div>
        </div>

        <div class="footer">
            <p>üöÄ Stock Analyzer Ultimate - Super Dashboard (VCP + ML + Fundamental)</p>
            <p style="font-size: 0.9em; margin-top: 5px;">Made with Claude Code</p>
        </div>
    </div>
</body>
</html>